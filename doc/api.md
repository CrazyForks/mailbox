# API

The current API uses AWS API Gateway, which invokes Lambda functions in `api/*`.

## Endpoint

Dev Endpoint: `https://{api_id}.execute-api.{region}.amazonaws.com/`

The default endpoint is generated by API Gateway. It can be found from your AWS console -> APIs -> \<your-api-name\> -> Settings -> Default Endpoint.

## Methods

### List

Lists emails based on query parameters.

`GET /emails/list`

Query String Parameters:

- `year`: four digit year
- `month`: one or two digit month
  - e.g. for March, both `3` and `03` are supported

### Get

Get an email given it's messageID.

`GET /emails/{messageID}`

Path Parameters:

- `messageID`: id of the email message

### Trash

Trash an untrashed email given it's messageID.

`POST /emails/{messageID}/trash`

Path Parameters:

- `messageID`: id of the email message

Note: if the email is already trashed, 400 Bad Request will be returned.

### Untrash

Untrash an trashed email given it's messageID.

`POST /emails/{messageID}/untrash`

Path Parameters:

- `messageID`: id of the email message

Note: if the email is not trashed, 400 Bad Request will be returned.

### Delete

Permanently delete an trashed email given it's messageID.

`DELETE /emails/{messageID}`

Path Parameters:

- `messageID`: id of the email message

Note: if the email is not trashed, 400 Bad Request will be returned.
